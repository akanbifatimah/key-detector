<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Key Detection</title>
    <link rel="shortcut icon" href="./html5 canvas.PNG" type="image/x-icon">
    <script type="text/javascript" src="https://www.cornify.com/js/cornify.js"></script>
</head>

<body>
    <p id="secret"></p>
    <h3 style="background-color: #4444; color:black; font-size:16px; padding:10px; text-align:center;text-transform: capitalize;">
        click button first, press any key on the keyboard, name and no of times key is pressed can be found on the screen and console.
    </h3>
    <button id="clicked">Click to see your match</button>
    <h3
        style="background-color: #4444; color:black; font-size:16px; padding:10px; text-align:center;text-transform: capitalize;">
        enter secret code correctly to earn a cornify image.
    </h3>
    <script>
        const secret = document.getElementById('secret')
        const clicked = document.getElementById('clicked')
        const pressed = [];
       
        let secretCode=prompt('Enter secret code');
        
        function windowClick () {
            window.addEventListener('keyup', (e) => {
                console.log(e.key);
                pressed.push(e.key);
                pressed.splice(-secretCode.length - 1, pressed.length - secretCode.length);
                if (pressed.join('').includes(secretCode)) {
                    console.log('DING DING!');
                    cornify_add();
                }
                
                console.log(pressed);
                secret.innerHTML = pressed;
            });

        }
        clicked.addEventListener('click', windowClick)
    </script>
</body>

</html>